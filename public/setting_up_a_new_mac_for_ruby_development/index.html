<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Setting up a new Mac for Ruby development</title>
    <meta name="description" content="Stuff I have time to write about
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://jjasonclark.com/setting_up_a_new_mac_for_ruby_development">

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12083278-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">JJasonClark.com</a>

    <nav class="site-nav">
      <div class="trigger">
        
          
          <a class="page-link" href="/contact.html">Contact me</a>
          
        
          
        
          
        
          
        
        <div class='social'>
<a href="http://github.com/jjasonclark" title="Jason Clark on Github" class='social_button'>
  <img src="/assets/github.png" alt="Jason Clark on Github" width=24 height=24 />
</a>
<a href="/feed.xml" title="Subscribe to JJasonClark.com" class='social_button'>
 <img src="/assets/feed.png" alt="Subscribe to JJasonClark.com" width=24 height=24 />
</a>
<a href="https://twitter.com/share" class='twitter-share-button' data-url="/setting_up_a_new_mac_for_ruby_development" via="jjasonclark" lang="en">Tweet</a>
<div class='g-plusone'></div>
</div>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="left_bar">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Side banner -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-3509568712949908"
     data-ad-slot="8275695470"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>

      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Setting up a new Mac for Ruby development</h1>
    <p class="post-meta">Jan 20, 2013 • <a title="Jason Clark" rel="author" href="https://plus.google.com/117263003751658777941">Jason Clark</a></p>
  </header>

  <article class="post-content">
    <p>I recently switched how I was using one of my laptops. I wanted to make a clean break from what it was doing before, so I erased the hard drive and started from scratch. I’ve done this a few times already and I always seem to forget a step. So this time I wrote down the steps so I could repeat them later. These are the steps I take to setup a Mac for Ruby development using Vim as the editor and MySql as the database. Of course there are a few other programs that I use while developing. The whole group, in my opinion, make for the most basic setup.</p>

<h2 id="install-from-app-store">Install from App store</h2>

<p>There are a few apps that are managed through the App store. Search for, and install the following apps. Only Xcode is required, the others help in the development process.</p>

<ul>
  <li>Xcode</li>
  <li>ClamXav</li>
  <li>Evernote</li>
  <li>Skitch</li>
  <li>JollysFastVNC</li>
  <li>Twitter</li>
</ul>

<p>Once these have installed launch <code>ClamXav</code> in order to turn on virus definitions file downloads. Select a time that works for you.</p>

<p><img src="/assets/clamxav_preferencest_2013_01_21.png" alt="ClamXav preferences" /></p>

<h2 id="install-from-web">Install from web</h2>

<p>The following don’t have any handy install scripts. You will have to visit each one’s website and download the installer package. All are optional, so you can put these off until later if desired.</p>

<ul>
  <li><a href="https://www.google.com/intl/en/chrome/browser/">Chrome</a></li>
  <li><a href="https://chrome.google.com/webstore/detail/evernote-web/lbfehkoinhhcknnbdgnnmjhiladcgbol">Evernote web clipper chrome plugin</a></li>
  <li><a href="https://chrome.google.com/webstore/detail/one-last-pass-password-ma/hlcjfeemfanamjbekpmdhcefejlgpnke">LastPass chrome plugin</a></li>
  <li><a href="http://www.iterm2.com">Iterm2</a></li>
  <li><a href="http://www.sequelpro.com/">SequalPro</a></li>
  <li><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a></li>
  <li><a href="http://www.truecrypt.org/">Truecrypt</a></li>
  <li><a href="http://www.dropbox.com/">Dropbox</a></li>
  <li><a href="http://www.skype.com">Skype</a></li>
  <li><a href="http://www.sublimetext.com/2">Sublime Text 2</a></li>
  <li><a href="http://www.bittorrent.com/">Bittorent</a></li>
</ul>

<h2 id="setup-mysql">Setup MySql</h2>

<p>MySql is the defacto database for development mode. And it is a tad hard to install.</p>

<h4 id="download-the-install-files">Download the install files</h4>

<p>Download the <code>DMG</code> file for the 64-bit version. <a href="http://dev.mysql.com/downloads/mysql">MySql download page</a>
<img src="/assets/mysql_dmg.png" alt="MySql DMG file" /></p>

<h4 id="install-main-package-file">Install main package file</h4>

<p>This is a basic Mac package file. Just follow along the prompts.</p>

<h4 id="install-perference-panel-settings-app">Install perference panel settings app</h4>

<p>Drag and drop the preference panel icon onto your system preference window. You should get a dialog like the one below. Install for everyone.
<img src="/assets/mysql_prefpane_install.png" alt="Prefence panel install dialog" /></p>

<h4 id="install-statup-items-app">Install statup items app</h4>

<p>Another basic Mac package file. Just follow along the prompts just like before.</p>

<h4 id="start-the-server">Start the server</h4>

<p>Launch the install MySql perference panel. Once open press the start button.
<img src="/assets/mysql_preferences.png" alt="blah" /></p>

<h4 id="complete-setup">Complete setup</h4>

<p>Run the following commands in a terminal window. They will complete the setup of the MySql service, configure for medium sized profile, and fix a linking bug with mysql2 gem.</p>

<pre><code>/usr/local/mysql/bin/mysql_secure_installation
sudo cp /usr/local/mysql/support-files/my-medium.cnf /etc/my.cnf
ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib
sudo /Library/StartupItems/MySQLCOM/MySQLCOM restart
</code></pre>

<h4 id="add-usrlocalmysqlbin-to-path">Add <code>/usr/local/mysql/bin</code> to <code>$PATH</code></h4>

<p>I like to include the following in my <code>.profile</code> file to add the MySql bin path to my <code>$PATH</code> setting.</p>

<pre><code>function addPath
{
    echo $PATH | /usr/bin/grep -q -s $1
    if [ $? -eq 1 ] ; then
        export PATH=$1:$PATH
    fi
}
</code></pre>

<p>addPath “/usr/local/mysql/bin”</p>

<h2 id="command-line-compiler-and-build-system">Command line compiler and build system</h2>

<p>Most applications install as source that you will need to build yourself. Ruby also needs the compiler for C extensions. You use <em>XCode</em> to install these tools. First, launch <em>XCode</em> and open the preferences panel. Click on the “Downloads” tab and press the install button for the “Command Line Tools”.</p>

<p><img src="/assets/xcode_commandline.png" alt="Download preferences" /></p>

<h2 id="homebrew-package-manager">Homebrew package manager</h2>

<p><a href="http://mxcl.github.com/homebrew/" title="Homebrew">Homebrew</a> is the package manager needed to install all the rest of the software. I find it indispensable. Copy and paste this command into a terminal window.</p>

<pre><code>ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"
</code></pre>

<p>Finish setup of <a href="http://mxcl.github.com/homebrew/" title="Homebrew">Homebrew</a> with the following commands.</p>

<pre><code>sudo vim -c '/^\/usr\/local\/bin$/m0' -cwq /etc/paths
mkdir ~/Applications
brew doctor
</code></pre>

<p>Once you have completed the set install the following packages by entering each of the following commands.</p>

<pre><code>brew install macvim --override-system-vim
brew install git
brew install ctags
brew install par
brew install tmux
brew install reattach-to-user-namespace
brew install gpg
brew install ack
brew install tree
brew install ssh-copy-id
brew install wget
</code></pre>

<p>After all installs run the following command to add symlinks to those apps that need it</p>

<pre><code>brew linkapps
</code></pre>

<h2 id="rvm-for-ruby-version-management">RVM for Ruby version management</h2>

<p>This is the first place to go to install ruby virtual machines. The following shell command will download the latest version of <a href="https://rvm.io/" title="Ruby Version Manager">RVM</a>. Copy and paste this command into a terminal window.</p>

<pre><code>curl -L https://get.rvm.io | bash -s stable --ruby
</code></pre>

<p>You will have to add the load call for the <a href="https://rvm.io/" title="Ruby Version Manager">RVM</a> functions to your shell. If you are going to copy the <code>.profile</code> file from below then you will have it as the first line.</p>

<h2 id="profile-setup">Profile setup</h2>

<p>Create a <code>.profile</code>. The following is a good starting point. I highly encourage customizing this file and saving it to move from computer to computer. The following will add the currently installed shell completion files. Along with a prompt to show the current ruby version and git branch.</p>

<pre><code>#Shell completion scripts
function include
{
    [[ -s $1 ]] &amp;&amp; . $1
}

include "$HOME/.rvm/scripts/rvm"
include `brew --prefix git`/etc/bash_completion.d/git-completion.bash
include `brew --prefix git`/etc/bash_completion.d/git-prompt.sh
include `brew --prefix tmux`/etc/bash_completion.d/tmux
include "$HOME/.rvm/contrib/ps1_functions"
include ~/.nesta-completion.sh

export EDITOR=`which vim`

function prompt
{
    local OFF="\[\033[m\]"

    # regular colors
    local BLACK="\[\033[0;30m\]"
    local RED="\[\033[0;31m\]"
    local GREEN="\[\033[0;32m\]"
    local YELLOW="\[\033[0;33m\]"
    local BLUE="\[\033[0;34m\]"
    local MAGENTA="\[\033[0;35m\]"
    local CYAN="\[\033[0;36m\]"
    local WHITE="\[\033[0;37m\]"

    # empahsized (bolded) colors
    local EBLACK="\[\033[1;30m\]"
    local ERED="\[\033[1;31m\]"
    local EGREEN="\[\033[1;32m\]"
    local EYELLOW="\[\033[1;33m\]"
    local EBLUE="\[\033[1;34m\]"
    local EMAGENTA="\[\033[1;35m\]"
    local ECYAN="\[\033[1;36m\]"
    local EWHITE="\[\033[1;37m\]"

    # background colors
    local BGK="\[\033[40m\]"
    local BGR="\[\033[41m\]"
    local BGG="\[\033[42m\]"
    local BGY="\[\033[43m\]"
    local BGB="\[\033[44m\]"
    local BGM="\[\033[45m\]"
    local BGC="\[\033[46m\]"
    local BGW="\[\033[47m\]"
    export PS1="${EGREEN}\u${WHITE}@${BLUE}\h ${MAGENTA}\w ${GREEN}"'$(~/.rvm/bin/rvm-prompt '"i v"')'" ${RED}"'$(__git_ps1 "(%s)")'"${OFF}&gt; "
}
prompt

# Shortcuts
alias g=git
function be()
{
    bundle exec $@
}

function sublime()
{
    open -a 'Sublime Text 2' $@
}
</code></pre>

<h2 id="post-install-steps">Post install steps</h2>

<p>After it is all installed there are a few left over steps. Finish them if you like since they are optional.</p>

<ul>
  <li>Change default profile of <em>Iterm2</em> to use “xterm-256color” terminal type</li>
  <li>Create new gpg secret key or copy old one (RSA type is fine)</li>
  <li>Create new ssh key</li>
  <li>Add ssh key to github.com</li>
  <li>Setup .gitconfig and .gitignore</li>
  <li><a href="Remote-Pairing-with-SSH-and-Tmux-on-a-Mac">Setup for pair programing using SSH and Tmux</a></li>
</ul>


  </article>

</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'jjasonclark'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <a class="footer-donate" href="http://jjasonclark.tip.me"><img alt="Tip Me With ChangeTip" src="https://cdn.changetip.com/img/logos/tipme_share.png?1"/></a>
    <h2 class="footer-heading">JJasonClark.com</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>JJasonClark.com</li>
          <li><a href="mailto:jason@jjasonclark.com">jason@jjasonclark.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jjasonclark">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">jjasonclark</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jjasonclark">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jjasonclark</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p>Please donate Bitcoin to 14622f9QThq7ieB1jJ3rHy9Xx4jK8UN7DV</p>
      </div>
    </div>

  </div>

</footer>


    <script type="text/javascript">
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script>

<script type="text/javascript">
(function() {
  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
  po.src = 'https://apis.google.com/js/plusone.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
</script>

  </body>

</html>
